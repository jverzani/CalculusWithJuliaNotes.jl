{
  "hash": "3b70354f1178ea9a984a6dc7809ff443",
  "result": {
    "markdown": "# Green's Theorem, Stokes' Theorem, and the Divergence Theorem\n\n\n\nThis section uses these add-on packages:\n\n``` {.julia .cell-code}\nusing CalculusWithJulia\nusing Plots\nusing QuadGK\nusing SymPy\n```\n\n\n::: {.cell results='hidden' execution_count=3}\n\n::: {.cell-output .cell-output-stderr}\n```\nWARNING: redefinition of constant frontmatter. This may fail, cause incorrect answers, or produce other errors.\n```\n:::\n:::\n\n\n---\n\n\nThe fundamental theorem of calculus is a fan favorite, as it reduces a definite integral, $\\int_a^b f(x) dx$, into the evaluation of a *related* function at two points: $F(b)-F(a)$, where the relation is $F$ is an *antiderivative* of $f$. It is a favorite, as it makes life much easier than the alternative of computing a limit of a Riemann sum.\n\n\nThis relationship can be generalized. The key is to realize that the interval $[a,b]$ has boundary $\\{a, b\\}$ (a set) and then expressing the theorem as: the integral around some region of $f$ is the integral, suitably defined, around the *boundary* of the region for a function *related* to $f$.\n\n\nIn an abstract setting, Stokes' theorem says exactly this with the relationship being the *exterior* derivative. Here we are not as abstract, we discuss below:\n\n\n  * Green's theorem, a $2$-dimensional theorem, where the region is a planar region, $D$, and the boundary a simple curve $C$;\n  * Stokes' theorem in $3$ dimensions, where the region is an open surface, $S$, in $R^3$ with boundary, $C$;\n  * The Divergence theorem in $3$ dimensions, where the region is a volume in three dimensions and the boundary its $2$-dimensional closed surface.\n\n\nThe related functions will involve the divergence and the curl, previously discussed.\n\n\nMany of the the examples in this section come from either [Strang](https://ocw.mit.edu/resources/res-18-001-calculus-online-textbook-spring-2005/) or [Schey](https://www.amazon.com/Div-Grad-Curl-All-That/dp/0393925161/).\n\n\nTo make the abstract concrete, consider the one dimensional case of finding the definite integral $\\int_a^b F'(x) dx$. The Riemann sum picture at the *microscopic* level considers a figure like:\n\n::: {.cell hold='true' execution_count=4}\n\n::: {.cell-output .cell-output-display execution_count=54}\n![](stokes_theorem_files/figure-html/cell-5-output-1.svg){}\n:::\n:::\n\n\nThe total area under the blue curve from $a$ to $b$, is found by adding the area of each segment of the figure.\n\n\nLet's consider now what an integral over the boundary would mean. The region, or interval, $[x_{i-1}, x_i]$ has a boundary that clearly consists of the two points $x_{i-1}$ and $x_i$. If we *orient* the boundary, as we need to for higher dimensional boundaries, using the outward facing direction, then the oriented boundary at the right-hand end point, $x_i$, would point towards $+\\infty$ and the left-hand end point, $x_{i-1}$, would be oriented to point to $-\\infty$. An \"integral\" on the boundary of $F$ would naturally be $F(b) \\times 1$ plus $F(a) \\times -1$, or $F(b)-F(a)$.\n\n\nWith this choice of integral over the boundary, we can see much cancellation arises were we to compute this integral for each piece, as we would have with $a=x_0 < x_1 < \\cdots x_{n-1} < x_n=b$:\n\n\n\n$$\n(F(x_1) - F(x_0)) + (F(x_2)-F(x_1)) + \\cdots + (F(x_n) - F(x_{n-1})) = F(x_n) - F(x_0) = F(b) - F(a).\n$$\n\n\nThat is, with this definition for a boundary integral, the interior pieces of the microscopic approximation cancel and the total is just the integral over the oriented macroscopic boundary $\\{a, b\\}$.\n\n\nBut each microscopic piece can be reimagined, as\n\n\n\n$$\nF(x_{i}) - F(x_{i-1}) = \\left(\\frac{F(x_{i}) - F(x_{i-1})}{\\Delta{x}}\\right)\\Delta{x}\n\\approx F'(x_i)\\Delta{x}.\n$$\n\n\nThe approximation could be exact were the mean value theorem used to identify a point in the interval, but we don't pursue that, as the key point is the right hand side is a Riemann sum approximation for a *different* integral, in this case the integral $\\int_a^b F'(x) dx$. Passing from the microscopic view to an infinitesimal view, the picture gives two interpretations, leading to the Fundamental Theorem of Calculus:\n\n\n\n$$\n\\int_a^b F'(x) dx = F(b) - F(a).\n$$\n\n\nThe three theorems of this section, Green's theorem, Stokes' theorem, and the divergence theorem, can all be seen in this manner: the sum of microscopic boundary integrals leads to a macroscopic boundary integral of the entire region; whereas, by reinterpretation, the microscopic boundary integrals are viewed as Riemann sums, which in the limit become integrals of a *related* function over the region.\n\n\n## Green's theorem\n\n\nTo continue the above analysis for a higher dimension, we consider the following figure hinting at a decomposition of a macroscopic square into subsequent microscopic sub-squares. The boundary of each square is oriented so that the right hand rule comes out of the picture.\n\n::: {.cell hold='true' execution_count=5}\n\n::: {.cell-output .cell-output-display execution_count=55}\n![](stokes_theorem_files/figure-html/cell-6-output-1.svg){}\n:::\n:::\n\n\nConsider the boundary integral $\\oint_c F\\cdot\\vec{T} ds$ around the smallest (green) squares. We have seen that the *curl* at a point in a direction is given in terms of the limit. Let the plane be the $x-y$ plane, and the $\\hat{k}$ direction be the one coming out of the figure. In the derivation of the curl, we saw that the line integral for circulation around the square satisfies:\n\n\n\n$$\n\\lim \\frac{1}{\\Delta{x}\\Delta{y}} \\oint_C F \\cdot\\hat{T}ds =\n \\frac{\\partial{F_y}}{\\partial{x}} - \\frac{\\partial{F_x}}{\\partial{y}}.\n$$\n\n\nIf the green squares are small enough, then the line integrals satisfy:\n\n\n\n$$\n\\oint_C F \\cdot\\hat{T}ds\n\\approx\n\\left(\n\\frac{\\partial{F_y}}{\\partial{x}}\n-\n\\frac{\\partial{F_x}}{\\partial{y}}\n\\right) \\Delta{x}\\Delta{y} .\n$$\n\n\nWe interpret the right hand side as a Riemann sum approximation for the $2$ dimensional integral of the function $f(x,y) = \\frac{\\partial{F_x}}{\\partial{y}} - \\frac{\\partial{F_y}}{\\partial{x}}=\\text{curl}(F)$, the two-dimensional curl. Were the green squares continued to fill out the large blue square, then the sum of these terms would approximate the integral\n\n\n\n$$\n\\iint_S f(x,y) dA = \\iint_S\n\\left(\\frac{\\partial{F_y}}{\\partial{x}} - \\frac{\\partial{F_x}}{\\partial{y}}\\right) dA\n= \\iint_S \\text{curl}(F) dA.\n$$\n\n\nHowever, the microscopic boundary integrals have cancellations that lead to a macroscopic boundary integral.  The sum of $\\oint_C F \\cdot\\hat{T}ds$ over the $4$ green squares will be equal to $\\oint_{C_r} F\\cdot\\hat{T}ds$, where $C_r$ is the red square, as the interior line integral pieces will all cancel off. The sum of $\\oint_{C_r} F \\cdot\\hat{T}ds$ over the $4$ red squares will equal $\\oint_{C_b} F \\cdot\\hat{T}ds$, where $C_b$ is the oriented path around the blue square, as again the interior line pieces will cancel off. Etc.\n\n\nThis all suggests that the flow integral around the surface of the larger region (the blue square) is equivalent to the integral of the curl component over the region. This is [Green](https://en.wikipedia.org/wiki/Green%27s_theorem)'s theorem, as stated by Wikipedia:\n\n\n> **Green's theorem**: Let $C$ be a positively oriented, piecewise smooth, simple closed curve in the plane, and let $D$ be the region bounded by $C$. If $F=\\langle F_x, F_y\\rangle$, is a vector field on an open region containing $D$  having continuous partial derivatives then:\n>\n> $$\n> \\oint_C F\\cdot\\hat{T}ds =\n> \\iint_D \\left(\n> \\frac{\\partial{F_y}}{\\partial{x}} - \\frac{\\partial{F_x}}{\\partial{y}}\n> \\right) dA=\n> \\iint_D \\text{curl}(F)dA.\n> $$\n\n\n\nThe statement of the theorem applies only to regions whose boundaries are simple closed curves. Not all simple regions have such boundaries. An annulus for example. This is a restriction that will be generalized.\n\n\n### Examples\n\n\nSome examples, following Strang, are:\n\n\n#### Computing area\n\n\nLet $F(x,y) = \\langle -y, x\\rangle$. Then $\\frac{\\partial{F_y}}{\\partial{x}} - \\frac{\\partial{F_x}}{\\partial{y}}=2$, so\n\n\n\n$$\n\\frac{1}{2}\\oint_C F\\cdot\\hat{T}ds = \\frac{1}{2}\\oint_C (xdy - ydx) =\n\\iint_D dA = A(D).\n$$\n\n\nThis gives a means to compute the area of a region by integrating around its boundary.\n\n\n---\n\nTo compute the area of an ellipse, we have:\n\n::: {.cell hold='true' execution_count=6}\n``` {.julia .cell-code}\nF(x,y) = [-y,x]\nF(v) = F(v...)\n\nr(t) = [a*cos(t),b*sin(t)]\n\n@syms a::positive b::positive t\n(1//2) * integrate( F(r(t)) ⋅ diff.(r(t),t), (t, 0, 2PI))\n```\n\n::: {.cell-output .cell-output-display execution_count=56}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n\\pi a b\n\\]\n</span>\n```\n:::\n:::\n\n\nTo compute the area of the triangle with vertices $(0,0)$, $(a,0)$ and $(0,b)$ we can orient the boundary counter clockwise. Let $A$ be the line segment from $(0,b)$ to $(0,0)$, $B$ be the line segment from $(0,0)$ to $(a,0)$, and $C$ be the other. Then\n\n\n\n$$\n\\begin{align}\n\\frac{1}{2} \\int_A F\\cdot\\hat{T} ds &=\\frac{1}{2} \\int_A -ydx = 0\\\\\n\\frac{1}{2} \\int_B F\\cdot\\hat{T} ds &=\\frac{1}{2} \\int_B xdy = 0,\n\\end{align}\n$$\n\n\nas on $A$, $y=0$ and $dy=0$ and on $B$, $x=0$ and $dx=0$.\n\n\nOn $C$ we have $\\vec{r}(t) = (0, b) + t\\cdot(1,-b/a) =\\langle t, b-(bt)/a\\rangle$ from $t=a$ to $0$\n\n\n\n$$\n\\int_C F\\cdot \\frac{d\\vec{r}}{dt} dt =\n\\int_a^0 \\langle -b + (bt)/a), t\\rangle\\cdot\\langle 1, -b/a\\rangle dt\n= \\int_a^0 -b dt = -bt\\mid_{a}^0 = ba.\n$$\n\n\nDividing by $1/2$ give the familiar answer $A=(1/2) a b$.\n\n\n#### Conservative fields\n\n\nA vector field is conservative if path integrals for work are independent of the path. We have seen that a vector field that is the gradient of a scalar field will be conservative and vice versa. This led to the vanishing identify $\\nabla\\times\\nabla(f) = 0$ for a scalar field $f$.\n\n\nIs the converse true? Namely, *if* for some vector field $F$, $\\nabla\\times{F}$ is identically $0$ is the field conservative?\n\n\nThe answer is yes – if the vector field has continuous partial derivatives and the curl is $0$ in a simply connected domain.\n\n\nFor the two dimensional case the curl is a scalar. *If* $F = \\langle F_x, F_y\\rangle = \\nabla{f}$ is conservative, then $\\partial{F_y}/\\partial{x} - \\partial{F_x}/\\partial{y} = 0$.\n\n\nNow assume $\\partial{F_y}/\\partial{x} - \\partial{F_x}/\\partial{y} = 0$. Let $P$ and $Q$ be two points in the plane. Take any path, $C_1$ from $P$ to $Q$ and any return path, $C_2$, from $Q$ to $P$ that do not cross and such that $C$, the concatenation of the two paths, satisfies Green's theorem. Then, as $F$ is continuous on an open interval containing $D$, we have:\n\n\n\n$$\n\\begin{align*}\n0 &= \\iint_D 0 dA \\\\\n&=\n\\iint_D \\left(\\partial{F_y}/\\partial{x} - \\partial{F_x}/\\partial{y}\\right)dA \\\\\n&=\n\\oint_C F \\cdot \\hat{T} ds \\\\\n&=\n\\int_{C_1} F \\cdot \\hat{T} ds + \\int_{C_2}F \\cdot \\hat{T} ds.\n\\end{align*}\n$$\n\n\nReversing $C_2$ to go from $P$ to $Q$, we see the two work integrals are identical, that is the field is conservative.\n\n\nSummarizing:\n\n\n  * If $F=\\nabla{f}$ then $F$ is conservative.\n  * If $F=\\langle F_x, F_y\\rangle$ has *continuous* partial derivatives in a simply connected open region with $\\partial{F_y}/\\partial{x} - \\partial{F_x}/\\partial{y}=0$, then in that region $F$ is conservative and can be represented as the gradient of a scalar function.\n\n\nFor example, let $F(x,y) = \\langle \\sin(xy), \\cos(xy) \\rangle$. Is this a conservative vector field?\n\n\nWe can check by taking partial derivatives. Those of interest are:\n\n\n\n$$\n\\begin{align}\n\\frac{\\partial{F_y}}{\\partial{x}} &= \\frac{\\partial{(\\cos(xy))}}{\\partial{x}} =\n-\\sin(xy) y,\\\\\n\\frac{\\partial{F_x}}{\\partial{y}} &= \\frac{\\partial{(\\sin(xy))}}{\\partial{y}} =\n\\cos(xy)x.\n\\end{align}\n$$\n\n\nIt is not the case that  $\\partial{F_y}/\\partial{x} - \\partial{F_x}/\\partial{y}=0$, so this vector field is *not* conservative.\n\n---\n\n\nThe conditions of Green's theorem are important, as this next example shows.\n\n\nLet $D$ be the unit disc, $C$ the unit circle parameterized counter clockwise.\n\n\nLet $R(x,y) = \\langle -y, x\\rangle$ be a rotation field and $F(x,y) = R(x,y)/(R(x,y)\\cdot R(x,y))$. Then:\n\n::: {.cell execution_count=7}\n``` {.julia .cell-code}\n@syms x::real y::real z::real t::real\n```\n\n::: {.cell-output .cell-output-display execution_count=57}\n```\n(x, y, z, t)\n```\n:::\n:::\n\n\n::: {.cell hold='true' execution_count=8}\n``` {.julia .cell-code}\nR(x,y) = [-y,x]\nF(x,y) = R(x,y)/(R(x,y)⋅R(x,y))\n\nFx, Fy = F(x,y)\ndiff(Fy, x) - diff(Fx, y) |> simplify\n```\n\n::: {.cell-output .cell-output-display execution_count=58}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\nAs the integrand is $00$,  $\\iint_D \\left( \\partial{F_y}/{\\partial{x}}-\\partial{F_xy}/{\\partial{y}}\\right)dA = 0$, as well. But,\n\n\n\n$$\nF\\cdot\\hat{T} = \\frac{R}{R\\cdot{R}} \\cdot \\frac{R}{R\\cdot{R}} = \\frac{R\\cdot{R}}{(R\\cdot{R})^2} = \\frac{1}{R\\cdot{R}},\n$$\n\n\nso $\\oint_C F\\cdot\\hat{T}ds = 2\\pi$, $C$ being the unit circle so $R\\cdot{R}=1$.\n\n\nThat is, for this example, Green's theorem does **not** apply, as the two integrals are not the same. What isn't satisfied in the theorem?  $F$ is not continuous at the origin and our curve $C$ defining $D$ encircles the origin. So, $F$ does not have continuous partial derivatives, as is required for the theorem.\n\n\n#### More complicated boundary curves\n\n\nA simple closed curve is one that does not cross itself. Green's theorem applies to regions bounded by curves which have finitely many crosses provided the orientation used is consistent throughout.\n\n\nConsider the curve $y = f(x)$, $a \\leq x \\leq b$, assuming $f$ is continuous, $f(a) > 0$, and $f(b) < 0$. We can use Green's theorem to compute the signed \"area\" under under $f$ if we consider the curve in $R^2$ from $(b,0)$ to $(a,0)$ to $(a, f(a))$, to $(b, f(b))$ and back to $(b,0)$ in that orientation. This will cross at each zero of $f$.\n\n::: {.cell hold='true' execution_count=9}\n\n::: {.cell-output .cell-output-display execution_count=59}\n![](stokes_theorem_files/figure-html/cell-10-output-1.svg){}\n:::\n:::\n\n\nLet $A$ label the red line, $B$ the green curve, $C$ the blue line, and $D$ the black line. Then the area is given from Green's theorem by considering half of the the line integral of $F(x,y) = \\langle -y, x\\rangle$ or $\\oint_C (xdy - ydx)$. To that matter we have:\n\n\n\n$$\n\\begin{align}\n\\int_A (xdy - ydx) &= a f(a)\\\\\n\\int_C (xdy - ydx) &= b(-f(b))\\\\\n\\int_D (xdy - ydx) &= 0\\\\\n\\end{align}\n$$\n\n\nFinally the integral over $B$, using integration by parts:\n\n\n\n$$\n\\begin{align}\n\\int_B F(\\vec{r}(t))\\cdot \\frac{d\\vec{r}(t)}{dt} dt &=\n\\int_b^a \\langle -f(t),t)\\rangle\\cdot\\langle 1, f'(t)\\rangle dt\\\\\n&= \\int_a^b f(t)dt - \\int_a^b tf'(t)dt\\\\\n&= \\int_a^b f(t)dt - \\left(tf(t)\\mid_a^b - \\int_a^b f(t) dt\\right).\n\\end{align}\n$$\n\n\nCombining, we have after cancellation $\\oint (xdy - ydx) = 2\\int_a^b f(t) dt$, or after dividing by $2$ the signed area under the curve.\n\n\n---\n\nThe region may not be simply connected. A simple case might be the disc: $1 \\leq x^2 + y^2 \\leq 4$. In this figure we introduce a cut to make a simply connected region.\n\n::: {.cell hold='true' execution_count=10}\n\n::: {.cell-output .cell-output-display execution_count=60}\n![](stokes_theorem_files/figure-html/cell-11-output-1.svg){}\n:::\n:::\n\n\nThe cut leads to a counter-clockwise orientation  on the outer ring and a clockwise orientation on the inner ring. If this cut becomes so thin as to vanish, then the line integrals along the lines introducing the cut will cancel off and we have a boundary consisting of two curves with opposite orientations. (If we follow either orientation the closed figure is on the left.)\n\n\nTo see that the area integral of $F(x,y) = (1/2)\\langle -y, x\\rangle$ produces the area for this orientation we have, using $C_1$ as the outer ring, and $C_2$ as the inner ring:\n\n\n\n$$\n\\begin{align}\n\\oint_{C_1} F \\cdot \\hat{T} ds &=\n\\int_0^{2\\pi} (1/2)(2)\\langle -\\sin(t), \\cos(t)\\rangle \\cdot (2)\\langle-\\sin(t), \\cos(t)\\rangle dt \\\\\n&= (1/2) (2\\pi) 4 = 4\\pi\\\\\n\\oint_{C_2} F \\cdot \\hat{T} ds &=\n\\int_{0}^{2\\pi}  (1/2) \\langle \\sin(t), \\cos(t)\\rangle \\cdot \\langle-\\sin(t), -\\cos(t)\\rangle dt\\\\\n&= -(1/2)(2\\pi) = -\\pi.\n\\end{align}\n$$\n\n\n(Using $\\vec{r}(t) = 2\\langle \\cos(t), \\sin(t)\\rangle$ for the outer ring and $\\vec{r}(t) = 1\\langle \\cos(t), -\\sin(t)\\rangle$ for the inner ring.)\n\n\nAdding the two gives $4\\pi - \\pi = \\pi \\cdot(b^2 - a^2)$, with $b=2$ and $a=1$.\n\n\n#### Flow not flux\n\n\nGreen's theorem has a complement in terms of flow across $C$. As $C$ is positively oriented (so the bounded interior piece is on the left of $\\hat{T}$ as the curve is traced), a normal comes by rotating $90^\\circ$ counterclockwise. That is if $\\hat{T} = \\langle a, b\\rangle$, then $\\hat{N} = \\langle b, -a\\rangle$.\n\n\nLet $F = \\langle F_x, F_y \\rangle$ and $G = \\langle F_y, -F_x \\rangle$, then $G\\cdot\\hat{T} = -F\\cdot\\hat{N}$. The curl formula applied to $G$ becomes\n\n\n\n$$\n\\frac{\\partial{G_y}}{\\partial{x}} - \\frac{\\partial{G_x}}{\\partial{y}} =\n\\frac{\\partial{-F_x}}{\\partial{x}}-\\frac{\\partial{(F_y)}}{\\partial{y}}\n=\n-\\left(\\frac{\\partial{F_x}}{\\partial{x}} + \\frac{\\partial{F_y}}{\\partial{y}}\\right)=\n-\\nabla\\cdot{F}.\n$$\n\n\nGreen's theorem applied to $G$ then gives this formula for $F$:\n\n\n\n$$\n\\oint_C F\\cdot\\hat{N} ds =\n-\\oint_C G\\cdot\\hat{T} ds =\n-\\iint_D (-\\nabla\\cdot{F})dA =\n\\iint_D \\nabla\\cdot{F}dA.\n$$\n\n\nThe right hand side integral is the $2$-dimensional divergence, so this has the interpretation that the flux through $C$ ($\\oint_C F\\cdot\\hat{N} ds$) is the integral of the divergence. (The divergence is defined in terms of a limit of this picture, so this theorem extends the microscopic view to a bigger view.)\n\n\nRather than leave this as an algebraic consequence, we sketch out how this could be intuitively argued from a microscopic picture, the reason being similar to that for the curl, where we considered the small green boxes. In the generalization to dimension $3$ both arguments are needed for our discussion:\n\n\n\nConsider now a $2$-dimensional region  split into microscopic boxes;  we focus now on two adjacent boxes, $A$ and $B$:\n\n::: {.cell hold='true' execution_count=12}\n\n::: {.cell-output .cell-output-display execution_count=62}\n![](stokes_theorem_files/figure-html/cell-13-output-1.svg){}\n:::\n:::\n\n\nThe integrand $F\\cdot\\hat{N}$ for $A$ will differ from that for $B$ by a minus sign, as the field is the same, but the  normal carries an opposite sign. Hence the contribution to the line integral around $A$ along this part of the box partition will cancel out with that around $B$. The only part of the line integral that will not cancel out for such a partition will be the boundary pieces of the overall shape.\n\n\nThis figure shows in red the parts of the line integrals that will cancel for a more refined grid.\n\n::: {.cell hold='true' execution_count=13}\n\n::: {.cell-output .cell-output-display execution_count=63}\n![](stokes_theorem_files/figure-html/cell-14-output-1.svg){}\n:::\n:::\n\n\nAgain, the microscopic boundary integrals when added will give a macroscopic boundary integral due to cancellations.\n\n\nBut, as seen in the derivation of the divergence, only modified for $2$ dimensions, we have $\\nabla\\cdot{F} = \\lim \\frac{1}{\\Delta S} \\oint_C F\\cdot\\hat{N}$, so for each cell\n\n\n\n$$\n\\oint_{C_i} F\\cdot\\hat{N} \\approx \\left(\\nabla\\cdot{F}\\right)\\Delta{x}\\Delta{y},\n$$\n\n\nan approximating Riemann sum for $\\iint_D \\nabla\\cdot{F} dA$. This yields:\n\n\n\n$$\n\\oint_C (F \\cdot\\hat{N}) dA =\n\\sum_i \\oint_{C_i}  (F \\cdot\\hat{N}) dA \\approx\n\\sum \\left(\\nabla\\cdot{F}\\right)\\Delta{x}\\Delta{y} \\approx\n\\iint_S \\nabla\\cdot{F}dA,\n$$\n\n\nthe approximation signs becoming equals signs in the limit.\n\n\n##### Example\n\n\nLet $F(x,y) = \\langle ax , by\\rangle$, and $D$ be the square with side length $2$ centered at the origin. Verify that the flow form of Green's theorem holds.\n\n\nWe have the divergence is simply $a + b$ so $\\iint_D (a+b)dA = (a+b)A(D) = 4(a+b)$.\n\n\nThe integral of the flow across $C$ consists of $4$ parts. By symmetry, they all should be similar. We consider the line segment connecting $(1,-1)$ to $(1,1)$ (which has the proper counterclockwise orientation):\n\n\n\n$$\n\\int_C F \\cdot \\hat{N} ds=\n\\int_{-1}^1 \\langle F_x, F_y\\rangle\\cdot\\langle 0, 1\\rangle ds =\n\\int_{-1}^1 b dy = 2b.\n$$\n\n\nIntegrating across the top will give $2a$, along the bottom $2a$, and along the left side $2b$ totaling $4(a+b)$.\n\n---\n\n\nNext, let $F(x,y) = \\langle -y, x\\rangle$. This field rotates, and we see has no divergence, as $\\partial{F_x}/\\partial{x} = \\partial{(-y)}/\\partial{x} = 0$ and $\\partial{F_y}/\\partial{y} = \\partial{x}/\\partial{y} = 0$. As such, the area integral in Green's theorem is $0$. As well, $F$ is parallel to $\\hat{T}$ so *orthogonal* to $\\hat{N}$, hence $\\oint F\\cdot\\hat{N}ds = \\oint 0ds = 0$. For any region $S$ there is no net flow across the boundary and no source or sink of flow inside.\n\n\n##### Example: stream functions\n\n\nStrang compiles the following equivalencies (one implies the others) for when the total flux is $0$ for a vector field with continuous partial derivatives:\n\n\n  * $$\n    \\oint F\\cdot\\hat{N} ds = 0\n    $$\n  * for all curves connecting $P$ to $Q$, $\\int_C F\\cdot\\hat{N}$ has the same value\n  * There is a *stream* function $g(x,y)$ for which $F_x = \\partial{g}/\\partial{y}$ and $F_y = -\\partial{g}/\\partial{x}$. (This says $\\nabla{g}$ is *orthogonal* to $F$.)\n  * the components have zero divergence: $\\partial{F_x}/\\partial{x} + \\partial{F_y}/\\partial{y} = 0$.\n\n\nStrang calls these fields *source* free as the divergence is $0$.\n\n\nA [stream](https://en.wikipedia.org/wiki/Stream_function) function plays the role of a scalar potential, but note the minus sign and order of partial derivatives. These are accounted for by saying $\\langle F_x, F_y, 0\\rangle = \\nabla\\times\\langle 0, 0, g\\rangle$, in Cartesian coordinates. Streamlines are tangent to the flow of the velocity  vector of the flow and in two dimensions are perpendicular to field lines formed by the gradient of a scalar function.\n\n\n[Potential](https://en.wikipedia.org/wiki/Potential_flow) flow uses a scalar potential function to describe the velocity field through $\\vec{v} = \\nabla{f}$. As such, potential flow is irrotational due to the curl of a conservative field being the zero vector. Restricting to two dimensions, this says the partials satisfy $\\partial{v_y}/\\partial{x} - \\partial{v_x}/\\partial{y} = 0$. For an incompressible flow (like water) the velocity will have $0$ divergence too. That is $\\nabla\\cdot\\nabla{f} = 0$ - $f$ satisfies Laplace's equation.\n\n\nBy the equivalencies above, an incompressible potential flow means in addition to a potential function, $f$, there is a stream function $g$ satisfying $v_x = \\partial{g}/\\partial{y}$ and $v_y=-\\partial{g}/\\partial{x}$.\n\n\nThe gradient of $f=\\langle v_x, v_y\\rangle$ is orthogonal to the contour lines of $f$. The gradient of $g=\\langle -v_y, v_x\\rangle$ is orthogonal to the gradient of $f$, so are tangents to the contour lines of $f$. Reversing, the gradient of $f$ is tangent to the contour lines of $g$. If the flow follows the velocity field, then the contour lines of $g$ indicate the flow of the fluid.\n\n\nAs an [example](https://en.wikipedia.org/wiki/Potential_flow#Examples_of_two-dimensional_flows) consider the following in polar coordinates:\n\n\n\n$$\nf(r, \\theta) = A r^n \\cos(n\\theta),\\quad\ng(r, \\theta) = A r^n \\sin(n\\theta).\n$$\n\n\nThe constant $A$ just sets the scale, the parameter $n$ has a qualitative effect on the contour lines. Consider $n=2$ visualized below:\n\n::: {.cell hold='true' execution_count=14}\n``` {.julia .cell-code}\ngr() # pyplot doesn't like the color as specified below.\nn = 2\nf(r,theta) = r^n * cos(n*theta)\ng(r, theta) = r^n * sin(n*theta)\n\nf(v) = f(v...); g(v)= g(v...)\n\nΦ(x,y) = [sqrt(x^2 + y^2), atan(y,x)]\nΦ(v) = Φ(v...)\n\nxs = ys = range(-2,2, length=50)\np = contour(xs, ys, f∘Φ, color=:red, legend=false, aspect_ratio=:equal)\ncontour!(p, xs, ys, g∘Φ, color=:blue, linewidth=3)\n#pyplot()\np\n```\n\n::: {.cell-output .cell-output-display execution_count=64}\n![](stokes_theorem_files/figure-html/cell-15-output-1.svg){}\n:::\n:::\n\n\nThe fluid would flow along the blue (stream) lines. The red lines have equal potential along the line.\n\n\n## Stokes' theorem\n\n![The Jiffy Pop popcorn design has a top surface that is designed to expand to accommodate the popped popcorn. Viewed as a surface, the surface area grows, but the boundary - where the surface meets the pan - stays the same. This is an example that many different surfaces can have the same bounding curve. Stokes' theorem will relate a surface integral over the surface to a line integral about the bounding curve. ](../integral_vector_calculus/figures/jiffy-pop.png)\n\n\n\nWere the figure of Jiffy Pop popcorn animated, the surface of foil would slowly expand due to pressure of popping popcorn until the popcorn was ready. However, the boundary would remain the same. Many different surfaces can have the same boundary. Take for instance the upper half unit sphere in $R^3$ it having the curve $x^2 + y^2 = 1$ as a boundary curve. This is the same curve as the surface of the cone $z = 1 - (x^2 + y^2)$ that lies above the $x-y$ plane. This would also be the same curve as the surface formed by a Mickey Mouse glove if the collar were scaled and positioned onto the unit circle.\n\n\nImagine if instead of the retro labeling,  a rectangular grid were drawn on the surface of the Jiffy Pop popcorn before popping. By Green's theorem, the integral of the curl of a vector field $F$ over this surface reduces to just an accompanying line integral over the boundary, $C$, where the orientation of $C$ is in the $\\hat{k}$ direction. The intuitive derivation being that the curl integral over the grid will have cancellations due to adjacent cells having shared paths being traversed in both directions.\n\n\nNow imagine the popcorn expanding, but rather than worry about burning, focusing instead on what happens to the integral of the curl in the direction of the normal, we have\n\n\n\n$$\n\\nabla\\times{F} \\cdot\\hat{N} = \\lim \\frac{1}{\\Delta{S}} \\oint_C F\\cdot\\hat{T} ds\n\\approx \\frac{1}{\\Delta{S}} F\\cdot\\hat{T} \\Delta{s}.\n$$\n\n\nThis gives the series of approximations:\n\n\n\n$$\n\\begin{align*}\n\\oint_C F\\cdot\\hat{T} ds &=\n\\sum \\oint_{C_i} F\\cdot\\hat{T} ds \\\\\n&\\approx\n\\sum F\\cdot\\hat{T} \\Delta s \\\\\n&\\approx\n\\sum \\nabla\\times{F}\\cdot\\hat{N} \\Delta{S} \\\\\n&\\approx\n\\iint_S \\nabla\\times{F}\\cdot\\hat{N} dS.\n\\end{align*}\n$$\n\n\nIn terms of our expanding popcorn, the boundary integral - after accounting for cancellations, as in Green's theorem - can be seen as a microscopic sum of boundary integrals each of which is approximated by a term $\\nabla\\times{F}\\cdot\\hat{N} \\Delta{S}$ which is viewed as a Riemann sum approximation for the the integral of the curl over the surface. The cancellation depends on a proper choice of orientation, but with that we have:\n\n\n> **Stokes' theorem**: Let $S$ be an orientable smooth surface in $R^3$ with boundary $C$, $C$ oriented so that the chosen normal for $S$ agrees with the right-hand rule for $C$'s orientation. Then *if* $F$ has continuous partial derivatives\n>\n> $$\n> \\oint_C F \\cdot\\hat{T} ds = \\iint_S (\\nabla\\times{F})\\cdot\\hat{N} dA.\n> $$\n\n\n\nGreen's theorem is an immediate consequence upon viewing the region in $R^2$ as a surface in $R^3$ with normal $\\hat{k}$.\n\n\n### Examples\n\n\n##### Example\n\n\nOur first example involves just an observation. For any simply connected surface $S$ without boundary (such as a sphere) the integral $\\oint_S \\nabla\\times{F}dS=0$, as the line integral around the boundary must be $0$, as there is no boundary.\n\n\n##### Example\n\n\nLet $F(x,y,z) = \\langle x^2, 0, y^2\\rangle$ and $C$ be the circle $x^2 + z^2 = 1$ with $y=0$. Find $\\oint_C F\\cdot\\hat{T}ds$.\n\n\nWe can use Stoke's theorem with the surface being just the disc, so that $\\hat{N} = \\hat{j}$. This makes the computation easy:\n\n::: {.cell execution_count=16}\n``` {.julia .cell-code}\nFₛ(x,y,z) = [x^2, 0, y^2]\nCurlFₛ = curl(Fₛ(x,y,z), [x,y,z])\n```\n\n::: {.cell-output .cell-output-display execution_count=66}\n```\n3-element Vector{Sym}:\n 2⋅y\n   0\n   0\n```\n:::\n:::\n\n\nWe have $\\nabla\\times{F}\\cdot\\hat{N} = 0$, so the answer is $0$.\n\n\nWe could have directly computed this. Let $r(t) = \\langle \\cos(t), 0, \\sin(t)\\rangle$. Then we have:\n\n::: {.cell execution_count=17}\n``` {.julia .cell-code}\nrₛ(t) = [cos(t), 0, sin(t)]\nrpₛ = diff.(rₛ(t), t)\nintegrandₛ = Fₛ(rₛ(t)...) ⋅ rpₛ\n```\n\n::: {.cell-output .cell-output-display execution_count=67}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n- \\sin{\\left(t \\right)} \\cos^{2}{\\left(t \\right)}\n\\]\n</span>\n```\n:::\n:::\n\n\nThe integrand isn't obviously going to yield $0$ for the integral, but through symmetry:\n\n::: {.cell execution_count=18}\n``` {.julia .cell-code}\nintegrate(integrandₛ, (t, 0, 2PI))\n```\n\n::: {.cell-output .cell-output-display execution_count=68}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\n##### Example: Ampere's circuital law\n\n\n(Schey) Suppose a current $I$ flows along a line and $C$ is a path encircling the current with orientation such that the right hand rule points in the direction of the current flow.\n\n\nAmpere's circuital law relates the line integral of the magnetic field to the induced current through:\n\n\n\n$$\n\\oint_C B\\cdot\\hat{T} ds = \\mu_0 I.\n$$\n\n\nThe goal here is to re-express this integral law to produce a law at each point of the field. Let $S$ be a surface with boundary $C$, Let $J$ be the current density - $J=\\rho v$, with $\\rho$ the density of the current (not time-varying) and $v$ the velocity. The current can be re-expressed as $I = \\iint_S J\\cdot\\hat{n}dA$. (If the current flows through a wire and $S$ is much bigger than the wire, this is still valid as $\\rho=0$ outside of the wire.)\n\n\nWe then have:\n\n\n\n$$\n\\mu_0 \\iint_S J\\cdot\\hat{N}dA =\n\\mu_0 I =\n\\oint_C B\\cdot\\hat{T} ds =\n\\iint_S (\\nabla\\times{B})\\cdot\\hat{N}dA.\n$$\n\n\nAs $S$ and $C$ are arbitrary, this implies the integrands of the surface integrals are equal, or:\n\n\n\n$$\n\\nabla\\times{B} = \\mu_0 J.\n$$\n\n\n##### Example: Faraday's law\n\n\n(Strang) Suppose $C$ is a wire and there is a time-varying magnetic field $B(t)$. Then Faraday's law says the *flux* passing within $C$ through a surface $S$ with boundary $C$ of the magnetic field, $\\phi = \\iint B\\cdot\\hat{N}dS$, induces an electric field $E$ that does work:\n\n\n\n$$\n\\oint_C E\\cdot\\hat{T}ds = -\\frac{\\partial{\\phi}}{\\partial{t}}.\n$$\n\n\nFaraday's law is an empirical statement. Stokes' theorem can be used to produce one of Maxwell's equations. For any surface $S$, as above with its boundary being $C$, we have both:\n\n\n\n$$\n-\\iint_S \\left(\\frac{\\partial{B}}{\\partial{t}}\\cdot\\hat{N}\\right)dS =\n-\\frac{\\partial{\\phi}}{\\partial{t}} =\n\\oint_C E\\cdot\\hat{T}ds =\n\\iint_S (\\nabla\\times{E}) dS.\n$$\n\n\nThis is true for any capping surface for $C$. Shrinking $C$ to a point means it will hold for each point in $R^3$. That  is:\n\n\n\n$$\n\\nabla\\times{E} = -\\frac{\\partial{B}}{\\partial{t}}.\n$$\n\n\n##### Example: Conservative fields\n\n\nGreen's theorem gave a characterization of $2$-dimensional conservative fields, Stokes' theorem provides a characterization for $3$ dimensional conservative fields (with continuous derivatives):\n\n\n  * The work $\\oint_C F\\cdot\\hat{T} ds = 0$ for every closed path\n  * The work $\\int_P^Q F\\cdot\\hat{T} ds$ is independent of the path between $P$ and $Q$\n  * for a scalar potential function $\\phi$, $F = \\nabla{\\phi}$\n  * The curl satisfies: $\\nabla\\times{F} = \\vec{0}$ (and the domain is simply connected).\n\n\nStokes's theorem can be used to show the first and fourth are equivalent.\n\n\nFirst, if $0 = \\oint_C F\\cdot\\hat{T} ds$, then by Stokes' theorem $0 = \\int_S \\nabla\\times{F} dS$ for any orientable surface $S$ with boundary $C$. For a given point, letting $C$ shrink to that point can be used to see that the cross product must be $0$ at that point.\n\n\nConversely, if the cross product is zero in a simply connected region, then take any simple closed curve, $C$ in the region. If the region is [simply connected](http://math.mit.edu/~jorloff/suppnotes/suppnotes02/v14.pdf) then there exists an orientable surface, $S$ in the region with boundary $C$ for which: $\\oint_C F\\cdot{N} ds = \\iint_S (\\nabla\\times{F})\\cdot\\hat{N}dS=  \\iint_S \\vec{0}\\cdot\\hat{N}dS = 0$.\n\n\nThe construction of a scalar potential function from the field can be done as illustrated in this next example.\n\n\nTake $F = \\langle yz^2, xz^2, 2xyz \\rangle$. Verify $F$ is conservative and find a scalar potential $\\phi$.\n\n\nTo verify that $F$ is conservative, we find its curl to see that it is $\\vec{0}$:\n\n::: {.cell hold='true' execution_count=19}\n``` {.julia .cell-code}\nF(x,y,z) = [y*z^2, x*z^2, 2*x*y*z]\ncurl(F(x,y,z), [x,y,z])\n```\n\n::: {.cell-output .cell-output-display execution_count=69}\n```\n3-element Vector{Sym}:\n 0\n 0\n 0\n```\n:::\n:::\n\n\nWe need $\\phi$ with $\\partial{\\phi}/\\partial{x} = F_x = yz^2$. To that end, we integrate in $x$:\n\n\n\n$$\n\\phi(x,y,z) = \\int yz^2 dx = xyz^2 + g(y,z),\n$$\n\n\nthe function $g(y,z)$ is a \"constant\" of integration (it doesn't depend on $x$). That $\\partial{\\phi}/\\partial{x} = F_x$ is true is easy to verify. Now, consider the partial in $y$:\n\n\n\n$$\n\\frac{\\partial{\\phi}}{\\partial{y}} = xz^2 + \\frac{\\partial{g}}{\\partial{y}} = F_y = xz^2.\n$$\n\n\nSo we have $\\frac{\\partial{g}}{\\partial{y}}=0$ or $g(y,z) = h(z)$, some constant in $y$. Finally, we must have $\\partial{\\phi}/\\partial{z} = F_z$, or\n\n\n\n$$\n\\frac{\\partial{\\phi}}{\\partial{z}} = 2xyz + h'(z) = F_z = 2xyz,\n$$\n\n\nSo $h'(z) = 0$. This value can be any constant, even $0$ which we take, so that $g(y,z) = 0$ and $\\phi(x,y,z) = xyz^2$ is a scalar potential for $F$.\n\n\n##### Example\n\n\nLet $F(x,y,z) = \\nabla(xy^2z^3) = \\langle y^2z^3, 2xyz^3, 3xy^2z^2\\rangle$. Show that the line integrals around the unit circle in the $x-y$ plane and the $y-z$ planes are $0$, as $F$ is conservative.\n\n::: {.cell execution_count=20}\n``` {.julia .cell-code}\nFxyz = ∇(x*y^2*z^3)\n```\n\n::: {.cell-output .cell-output-display execution_count=70}\n```\n3-element Vector{Sym}:\n     y^2*z^3\n   2*x*y*z^3\n 3*x*y^2*z^2\n```\n:::\n:::\n\n\n::: {.cell hold='true' execution_count=21}\n``` {.julia .cell-code}\nr(t) = [cos(t), sin(t), 0]\nrp = diff.(r(t), t)\nFt = subs.(Fxyz, x .=> r(t)[1], y.=> r(t)[2], z .=> r(t)[3])\nintegrate(Ft ⋅ rp, (t, 0, 2PI))\n```\n\n::: {.cell-output .cell-output-display execution_count=71}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\n(This is trivial, as `Ft` is $0$, as each term has a $z$ factor of $0$.)\n\n\nIn the $y-z$ plane we have:\n\n::: {.cell hold='true' execution_count=22}\n``` {.julia .cell-code}\nr(t) = [0, cos(t), sin(t)]\nrp = diff.(r(t), t)\nFt = subs.(Fxyz, x .=> r(t)[1], y.=> r(t)[2], z .=> r(t)[3])\nintegrate(Ft ⋅ rp, (t, 0, 2PI))\n```\n\n::: {.cell-output .cell-output-display execution_count=72}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\nThis is also easy, as `Ft` has only an `x` component and `rp` has only `y` and `z` components, so the two are orthogonal.\n\n\n##### Example\n\n\nIn two dimensions the vector field $F(x,y) = \\langle -y, x\\rangle/(x^2+y^2) = S(x,y)/\\|R\\|^2$ is irrotational ($0$ curl) and has $0$ divergence, but is *not* conservative in $R^2$, as with $C$ being the unit disk we have $\\oint_C F\\cdot\\hat{T}ds = \\int_0^{2\\pi} \\langle -\\sin(\\theta),\\cos(\\theta)\\rangle \\cdot \\langle-\\sin(\\theta), \\cos(\\theta)\\rangle/1 d\\theta = 2\\pi$. This is because $F$ is not continuously differentiable at the origin, so the path $C$ is not in a simply connected domain where $F$ is continuously differentiable. (Were $C$ to avoid the origin, the integral would be $0$.)\n\n\nIn three dimensions, removing a single point in a domain does change simple connectedness, but removing an entire line will. So the function $F(x,y,z) =\\langle -y,x,0\\rangle/(x^2+y^2)\\rangle$ will have $0$ curl, $0$ divergence, but won't be conservative in a domain that includes the $z$ axis.\n\n\nHowever, the function $F(x,y,z) = \\langle x, y,z\\rangle/\\sqrt{x^2+y^2+z^2}$ has curl $0$, except at the origin. However, $R^3$ less the origin, as a domain, is simply connected, so $F$ will be conservative.\n\n\n## Divergence theorem\n\n\nThe divergence theorem is a consequence of a simple observation. Consider two adjacent cubic regions that share a common face. The boundary integral, $\\oint_S F\\cdot\\hat{N} dA$, can be computed for each cube. The surface integral requires a choice of normal, and the convention is to use the outward pointing normal. The common face of the two cubes has *different* outward pointing normals, the difference being a minus sign. As such, the contribution of the surface integral over this face for one cube is *cancelled* out by the contribution of the surface integral over this face for the adjacent cube. As with Green's theorem, this means for a cubic partition, that only the contribution over the boundary is needed to compute the boundary integral. In formulas, if $V$ is a $3$ dimensional cubic region with boundary $S$ and it is partitioned into smaller cubic subregions, $V_i$ with surfaces $S_i$, we have:\n\n\n\n$$\n\\oint_S F\\cdot{N} dA = \\sum \\oint_{S_i} F\\cdot{N} dA.\n$$\n\n\nIf the partition provides a microscopic perspective, then the divergence approximation $\\nabla\\cdot{F} \\approx (1/\\Delta{V_i}) \\oint_{S_i} F\\cdot{N} dA$ can be used to say:\n\n\n\n$$\n\\oint_S F\\cdot{N} dA =\n\\sum \\oint_{S_i} F\\cdot{N} dA \\approx\n\\sum (\\nabla\\cdot{F})\\Delta{V_i} \\approx\n\\iiint_V \\nabla\\cdot{F} dV,\n$$\n\n\nthe last approximation through a Riemann sum approximation. This heuristic leads to:\n\n\n> **The divergence theorem**: Suppose $V$ is a $3$-dimensional volume which is bounded (compact) and has a boundary, $S$, that is piecewise smooth. If $F$ is a continuously differentiable vector field defined on an open set containing $V$, then:\n>\n> $$\n> \\iiint_V (\\nabla\\cdot{F}) dV = \\oint_S (F\\cdot\\hat{N})dS.\n> $$\n\n\n\nThat is, the volume integral of the divergence can be computed from the flux integral over the boundary of $V$.\n\n\n### Examples of the divergence theorem\n\n\n##### Example\n\n\nVerify the divergence theorem for the vector field $F(x,y,z) = \\langle xy, yz, zx\\rangle$ for the cubic box centered at the origin with side lengths $2$.\n\n\nWe need to compute two terms and show they are equal. We begin with the volume integral:\n\n::: {.cell execution_count=23}\n``` {.julia .cell-code}\nF₁(x,y,z) = [x*y, y*z, z*x]\nDivF₁ = divergence(F₁(x,y,z), [x,y,z])\nintegrate(DivF₁, (x, -1,1), (y,-1,1), (z, -1,1))\n```\n\n::: {.cell-output .cell-output-display execution_count=73}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\nThe total integral is $0$ by symmetry, not due to the divergence being $0$, as it is $x+y+z$.\n\n\nAs for the surface integral, we have $6$ sides to consider. We take the sides with $\\hat{N}$ being $\\pm\\hat{i}$:\n\n::: {.cell hold='true' execution_count=24}\n``` {.julia .cell-code}\nNhat = [1,0,0]\nintegrate((F₁(x,y,z) ⋅ Nhat), (y, -1, 1), (z, -1,1)) # at x=1\n```\n\n::: {.cell-output .cell-output-display execution_count=74}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\nIn fact, all $6$ sides will be $0$, as in this case $F \\cdot \\hat{i} = xy$ and at $x=1$ the surface integral is just $\\int_{-1}^1\\int_{-1}^1 y dy dz = 0$, as $y$ is an odd function.\n\n\nAs such, the two sides of the Divergence theorem are both $0$, so the theorem is verified.\n\n\n###### Example\n\n\n(From Strang) If the temperature inside the sun is $T = \\log(1/\\rho)$ find the *heat* flow $F=-\\nabla{T}$; the source, $\\nabla\\cdot{F}$; and the flux, $\\iint F\\cdot\\hat{N}dS$. Model the  sun as a ball of radius $\\rho_0$.\n\n\nWe have the heat flow is simply:\n\n::: {.cell execution_count=25}\n``` {.julia .cell-code}\nRₗ(x,y,z) = norm([x,y,z])\nTₗ(x,y,z) = log(1/Rₗ(x,y,z))\nHeatFlow = -diff.(Tₗ(x,y,z), [x,y,z])\n```\n\n::: {.cell-output .cell-output-display execution_count=75}\n```\n3-element Vector{Sym}:\n x/(x^2 + y^2 + z^2)\n y/(x^2 + y^2 + z^2)\n z/(x^2 + y^2 + z^2)\n```\n:::\n:::\n\n\nWe may recognize this as $\\rho/\\|\\rho\\|^2 = \\hat{\\rho}/\\|\\rho\\|$.\n\n\nThe source is\n\n::: {.cell execution_count=26}\n``` {.julia .cell-code}\nDivₗ = divergence(HeatFlow, [x,y,z]) |> simplify\n```\n\n::: {.cell-output .cell-output-display execution_count=76}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n\\frac{1}{x^{2} + y^{2} + z^{2}}\n\\]\n</span>\n```\n:::\n:::\n\n\nWhich would simplify to $1/\\rho^2$.\n\n\nFinally, the surface integral over the surface of the sun is an integral over a sphere of radius $\\rho_0$. We could use spherical coordinates to compute this, but note instead that the normal is $\\hat{\\rho}$ so, $F \\cdot \\hat{N} = 1/\\rho = 1/\\rho_0$ over this surface. So the surface integral is simple the surface area times $1/\\rho_0$: $4\\pi\\rho_0^2/\\rho_0 = 4\\pi\\rho_0$.\n\n\nFinally, though $F$ is not continuous at the origin, the divergence theorem's result holds. Using spherical coordinates we have:\n\n::: {.cell hold='true' execution_count=27}\n``` {.julia .cell-code}\n@syms rho::real rho_0::real phi::real theta::real\nJac = rho^2 * sin(phi)\nintegrate(1/rho^2 * Jac, (rho, 0, rho_0), (theta, 0, 2PI), (phi, 0, PI))\n```\n\n::: {.cell-output .cell-output-display execution_count=77}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n4 \\pi \\rho_{0}\n\\]\n</span>\n```\n:::\n:::\n\n\n##### Example: Continuity equation (Schey)\n\n\nImagine a venue with a strict cap on the number of persons at one time. Two ways to monitor this are: at given times, a count, or census, of all the people in the venue can be made. Or, when possible, a count of people coming in can be compared to a count of people coming out and the difference should yield the number within. Either works well when access is limited and the venue small, but the latter can also work well on a larger scale. For example, for the subway system of New York it would be impractical to attempt to count all the people at a given time using a census, but from turnstile data an accurate count can be had, as turnstiles can be used to track people coming in and going out. But turnstiles can be restricting and cause long(ish) lines. At some stores, new technology is allowing checkout-free shopping. Imagine if each customer had an app on their phone that can be used to track location. As they enter a store, they can be recorded, as they exit they can be recorded and if RFID tags are on each item in the store, their \"purchases\" can be tallied up and billed through the app. (As an added bonus to paying fewer cashiers, stores can also track on a step-by-step basis how a customer interacts with the store.) In any of these three scenarios, a simple thing applies: the total number of people in a confined region can be counted by counting how many crossed the boundary (and in which direction) and the change in time of the count can be related to the change in time of the people crossing.\n\n\nFor a more real world example, the [New York Times]( https://www.nytimes.com/interactive/2019/07/03/world/asia/hong-kong-protest-crowd-ai.html) ran an article about estimating the size of a large protest in Hong Kong:\n\n\n> Crowd estimates for Hong Kong’s large pro-democracy protests have been a point of contention for years. The organizers and the police often release vastly divergent estimates. This year’s annual pro-democracy protest on Monday, July 1, was no different. Organizers announced 550,000 people attended; the police said 190,000 people were there at the peak.\n\n\n\n> But for the first time in the march’s history, a group of researchers combined artificial intelligence and manual counting techniques to estimate the size of the crowd, concluding that 265,000 people marched.\n\n\n\n> On Monday, the A.I. team attached seven iPads to two major footbridges along the march route. Volunteers doing manual counts were also stationed next to the cameras, to help verify the computer count.\n\n\n\nThe article describes some issues in counting such a large group:\n\n\n> The high density of the crowd and the moving nature of these protests make estimating the turnout very challenging. For more than a decade, groups have stationed teams along the route and manually counted the rate of people passing through to derive the total number of participants.\n\n\n\nAs there are no turnstiles to do an accurate count and too many points to come and go, this technique can be too approximate. The article describes how artificial intelligence was used to count the participants. The Times tried their own hand:\n\n\n> Analyzing a short video clip recorded on Monday, The Times’s model tried to detect people based on color and shape, and then tracked the figures as they moved across the screen. This method helps avoid double counting because the crowd generally flowed in one direction.\n\n\n\nThe divergence theorem provides two means to compute a value, the point here is to illustrate that there are (at least) two possible ways to compute crowd size. Which is better depends on the situation.\n\n\n---\n\nFollowing Schey, we now consider a continuous analog to the crowd counting problem through a flow with a non-uniform density that may vary in time. Let $\\rho(x,y,z;t)$ be the time-varying density and $v(x,y,z;t)$ be a vector field indicating the direction of flow. Consider some three-dimensional volume, $V$, with boundary $S$ (though two-dimensional would also be applicable). Then these integrals have interpretations:\n\n\n\n$$\n\\begin{align}\n\\iiint_V \\rho dV &&\\quad\\text{Amount contained within }V\\\\\n\\frac{\\partial}{\\partial{t}} \\iiint_V \\rho dV &=\n\\iiint_V \\frac{\\partial{\\rho}}{\\partial{t}} dV &\\quad\\text{Change in time of amount contained within }V\n\\end{align}\n$$\n\n\nMoving the derivative inside the integral requires an assumption of continuity. Assume the material is *conserved*, meaning that if the amount in the volume $V$ changes it must  flow in and out through the boundary. The flow out through $S$, the boundary of $V$, is\n\n\n\n$$\n\\oint_S (\\rho v)\\cdot\\hat{N} dS,\n$$\n\n\nusing the customary outward pointing normal for the orientation of $S$.\n\n\nSo we have:\n\n\n\n$$\n\\iiint_V \\frac{\\partial{\\rho}}{\\partial{t}} dV =\n-\\oint_S (\\rho v)\\cdot\\hat{N} dS = - \\iiint_V \\nabla\\cdot\\left(\\rho v\\right)dV.\n$$\n\n\nThe last equality by the divergence theorem, the minus sign as a positive change in amount within $V$ means flow *opposite* the outward pointing normal for $S$.\n\n\nThe volume $V$ was arbitrary. While it isn't the case that two integrals being equal implies the integrands are equal, it is the case that if the two integrals are equal for all volumes and the two integrands are continuous, then they are equal.\n\n\nThat is, under the *assumptions* that material is conserved and density is continuous a continuity equation can be derived from the divergence theorem:\n\n\n\n$$\n\\nabla\\cdot(\\rho v) = - \\frac{\\partial{\\rho}}{dt}.\n$$\n\n\n##### Example: The divergence theorem can fail to apply\n\n\nThe assumption of the divergence theorem that the vector field be *continuously* differentiable is important, as otherwise it may not hold. With $R(x,y,z) = \\langle x,y,z\\rangle$ take for example $F = (R/\\|R\\|) / \\|R\\|^2)$. This has divergence\n\n::: {.cell hold='true' execution_count=28}\n``` {.julia .cell-code}\nR(x,y,z) = [x,y,z]\nF(x,y,z) = R(x,y,z) / norm(R(x,y,z))^3\n\n\ndivergence(F(x,y,z), [x,y,z]) |> simplify\n```\n\n::: {.cell-output .cell-output-display execution_count=78}\n```{=html}\n<span class=\"math-left-align\" style=\"padding-left: 4px; width:0; float:left;\"> \n\\[\n0\n\\]\n</span>\n```\n:::\n:::\n\n\nThe simplification done by SymPy masks the presence of $R^{-5/2}$ when taking the partial derivatives, which means the field is *not* continuously differentiable at the origin.\n\n\n*Were* the divergence theorem applicable, then the integral of $F$ over the unit sphere would mean:\n\n\n\n$$\n0 = \\iiint_V \\nabla\\cdot{F} dV =\n\\oint_S F\\cdot{N}dS = \\oint_S \\frac{R}{\\|R\\|^3} \\cdot{R} dS =\n\\oint_S 1 dS = 4\\pi.\n$$\n\n\nClearly, as $0$ is not equal to $4\\pi$, the divergence theorem can not apply.\n\n\nHowever, it *does* apply to any volume not enclosing the origin. So without any calculation, if $V$ were shifted over by $2$ units the volume integral over $V$ would be $0$ and the surface integral over $S$ would be also.\n\n\nAs already seen, the inverse square law here arises in the electrostatic force formula, and this same observation was made in the context of Gauss's law.\n\n\n## Questions\n\n\n###### Question\n\n\n(Schey) What conditions on $F: R^2 \\rightarrow R^2$ imply $\\oint_C F\\cdot d\\vec{r} = A$? ($A$ is the area bounded by the simple, closed curve $C$)\n\n::: {.cell hold='true' execution_count=29}\n\n::: {.cell-output .cell-output-display execution_count=79}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='GyezIP2h' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_GyezIP2h\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_GyezIP2h\"\n              id=\"radio_GyezIP2h_1\" value=\"1\">\n      <span class=\"label-body\">\n        We must have \\(\\text{curl}(F) = x\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_GyezIP2h\"\n              id=\"radio_GyezIP2h_2\" value=\"2\">\n      <span class=\"label-body\">\n        We must have \\(\\text{curl}(F) = 1\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_GyezIP2h\"\n              id=\"radio_GyezIP2h_3\" value=\"3\">\n      <span class=\"label-body\">\n        We must have \\(\\text{curl}(F) = 0\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='GyezIP2h_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_GyezIP2h\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 2;\n    var msgBox = document.getElementById('GyezIP2h_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_GyezIP2h\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_GyezIP2h\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nFor $C$, a simple, closed curve parameterized by $\\vec{r}(t) = \\langle x(t), y(t) \\rangle$, $a \\leq t \\leq b$. The area contained can be computed by $\\int_a^b x(t) y'(t) dt$. Let $\\vec{r}(t) = \\sin(t) \\cdot \\langle \\cos(t), \\sin(t)\\rangle$.\n\n\nFind the area inside $C$\n\n::: {.cell hold='true' execution_count=30}\n\n::: {.cell-output .cell-output-display execution_count=80}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='Kv0Sgc8s' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_Kv0Sgc8s\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"row\">\n  <span style=\"width:90%\">\n    <input id=\"Kv0Sgc8s\" type=\"number\" class=\"form-control\" placeholder=\"Numeric answer\">\n  </span>\n  <span style=\"width:10%\">\n  </span>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='Kv0Sgc8s_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.getElementById(\"Kv0Sgc8s\").addEventListener(\"change\", function() {\n  var correct = (Math.abs(this.value - 1.5707963267948966) <= 0.001);\n  var msgBox = document.getElementById('Kv0Sgc8s_message');\n    if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_Kv0Sgc8s\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_Kv0Sgc8s\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nLet $\\hat{N} = \\langle \\cos(t), \\sin(t) \\rangle$ and $\\hat{T} = \\langle -\\sin(t), \\cos(t)\\rangle$. Then polar coordinates can be viewed as the parametric curve $\\vec{r}(t) = r(t) \\hat{N}$.\n\n\nApplying Green's theorem to the vector field $F = \\langle -y, x\\rangle$ which along the curve is $r(t) \\hat{T}$ we know the area formula $(1/2) (\\int xdy - \\int y dx)$. What is this in polar coordinates (using $\\theta=t$?) (Using $(r\\hat{N}' = r'\\hat{N} + r \\hat{N}' = r'\\hat{N} +r\\hat{T}$ is useful.)\n\n::: {.cell hold='true' execution_count=31}\n\n::: {.cell-output .cell-output-display execution_count=81}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='0TIFZopo' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_0TIFZopo\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0TIFZopo\"\n              id=\"radio_0TIFZopo_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(\\int rd\\theta\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0TIFZopo\"\n              id=\"radio_0TIFZopo_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\((1/2) \\int r d\\theta\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0TIFZopo\"\n              id=\"radio_0TIFZopo_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\((1/2) \\int r^2d\\theta\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0TIFZopo\"\n              id=\"radio_0TIFZopo_4\" value=\"4\">\n      <span class=\"label-body\">\n        \\(\\int r^2 d\\theta\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='0TIFZopo_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_0TIFZopo\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 3;\n    var msgBox = document.getElementById('0TIFZopo_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_0TIFZopo\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_0TIFZopo\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nLet $\\vec{r}(t) = \\langle \\cos^3(t), \\sin^3(t)\\rangle$, $0\\leq t \\leq 2\\pi$. (This describes a hypocycloid.) Compute the area enclosed by the curve $C$ using Green's theorem.\n\n::: {.cell hold='true' execution_count=32}\n\n::: {.cell-output .cell-output-display execution_count=82}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='Ts3ukITD' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_Ts3ukITD\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_Ts3ukITD\"\n              id=\"radio_Ts3ukITD_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(\\pi/4\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_Ts3ukITD\"\n              id=\"radio_Ts3ukITD_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(3\\pi/8\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_Ts3ukITD\"\n              id=\"radio_Ts3ukITD_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(\\pi/2\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='Ts3ukITD_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_Ts3ukITD\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 2;\n    var msgBox = document.getElementById('Ts3ukITD_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_Ts3ukITD\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_Ts3ukITD\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nLet $F(x,y) = \\langle y, x\\rangle$. We verify Green's theorem holds when $S$ is the unit square, $[0,1]\\times[0,1]$.\n\n\nThe curl of $F$ is\n\n::: {.cell hold='true' execution_count=33}\n\n::: {.cell-output .cell-output-display execution_count=83}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='stB4hebz' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_stB4hebz\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_stB4hebz\"\n              id=\"radio_stB4hebz_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(0\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_stB4hebz\"\n              id=\"radio_stB4hebz_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(1\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_stB4hebz\"\n              id=\"radio_stB4hebz_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(2\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='stB4hebz_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_stB4hebz\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('stB4hebz_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_stB4hebz\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_stB4hebz\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\nAs the curl is a constant, say $c$, we have $\\iint_S (\\nabla\\times{F}) dS = c \\cdot 1$. This is?\n\n::: {.cell hold='true' execution_count=34}\n\n::: {.cell-output .cell-output-display execution_count=84}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='r4xnmV2d' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_r4xnmV2d\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_r4xnmV2d\"\n              id=\"radio_r4xnmV2d_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(0\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_r4xnmV2d\"\n              id=\"radio_r4xnmV2d_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(1\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_r4xnmV2d\"\n              id=\"radio_r4xnmV2d_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(2\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='r4xnmV2d_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_r4xnmV2d\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('r4xnmV2d_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_r4xnmV2d\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_r4xnmV2d\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\nTo integrate around the boundary we have $4$ terms: the path $A$ connecting $(0,0)$ to $(1,0)$ (on the $x$ axis), the path $B$ connecting $(1,0)$ to $(1,1)$, the path $C$ connecting $(1,1)$ to $(0,1)$, and the path $D$ connecting $(0,1)$ to $(0,0)$ (along the $y$ axis).\n\n\nWhich path has tangent $\\hat{j}$?\n\n::: {.cell hold='true' execution_count=35}\n\n::: {.cell-output .cell-output-display execution_count=85}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='qNh6llaw' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_qNh6llaw\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qNh6llaw\"\n              id=\"radio_qNh6llaw_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(A\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qNh6llaw\"\n              id=\"radio_qNh6llaw_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(B\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qNh6llaw\"\n              id=\"radio_qNh6llaw_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(C\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qNh6llaw\"\n              id=\"radio_qNh6llaw_4\" value=\"4\">\n      <span class=\"label-body\">\n        \\(D\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='qNh6llaw_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_qNh6llaw\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 2;\n    var msgBox = document.getElementById('qNh6llaw_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_qNh6llaw\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_qNh6llaw\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\nAlong  path $C$, $F(x,y) = [1,x]$ and $\\hat{T}=-\\hat{i}$ so $F\\cdot\\hat{T} = -1$. The path integral $\\int_C (F\\cdot\\hat{T})ds = -1$. What is the value of the path integral over $A$?\n\n::: {.cell hold='true' execution_count=36}\n\n::: {.cell-output .cell-output-display execution_count=86}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='xrtRHJbY' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_xrtRHJbY\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_xrtRHJbY\"\n              id=\"radio_xrtRHJbY_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(-1\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_xrtRHJbY\"\n              id=\"radio_xrtRHJbY_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(0\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_xrtRHJbY\"\n              id=\"radio_xrtRHJbY_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(1\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='xrtRHJbY_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_xrtRHJbY\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 3;\n    var msgBox = document.getElementById('xrtRHJbY_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_xrtRHJbY\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_xrtRHJbY\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\nWhat is the integral over the oriented boundary of $S$?\n\n::: {.cell hold='true' execution_count=37}\n\n::: {.cell-output .cell-output-display execution_count=87}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='F07ngfL8' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_F07ngfL8\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_F07ngfL8\"\n              id=\"radio_F07ngfL8_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(0\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_F07ngfL8\"\n              id=\"radio_F07ngfL8_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(1\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_F07ngfL8\"\n              id=\"radio_F07ngfL8_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(2\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='F07ngfL8_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_F07ngfL8\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('F07ngfL8_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_F07ngfL8\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_F07ngfL8\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nSuppose $F: R^2 \\rightarrow R^2$ is a vector field such that $\\nabla\\cdot{F}=0$ *except* at the origin. Let $C_1$ and $C_2$ be the unit circle and circle with radius $2$ centered at the origin, both parameterized counterclockwise. What is the relationship between $\\oint_{C_2} F\\cdot\\hat{N}ds$ and $\\oint_{C_1} F\\cdot\\hat{N}ds$?\n\n::: {.cell hold='true' execution_count=38}\n\n::: {.cell-output .cell-output-display execution_count=88}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='76RA0dIs' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_76RA0dIs\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_76RA0dIs\"\n              id=\"radio_76RA0dIs_1\" value=\"1\">\n      <span class=\"label-body\">\n        They are the same, as Green&#39;s theorem applies to the area, \\(S\\), between \\(C_1\\) and \\(C_2\\) so \\(\\iint_S \\nabla\\cdot{F}dA = 0\\).\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_76RA0dIs\"\n              id=\"radio_76RA0dIs_2\" value=\"2\">\n      <span class=\"label-body\">\n        They  differ by a minus sign, as Green&#39;s theorem applies to the area, \\(S\\), between \\(C_1\\) and \\(C_2\\) so \\(\\iint_S \\nabla\\cdot{F}dA = 0\\).\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='76RA0dIs_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_76RA0dIs\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('76RA0dIs_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_76RA0dIs\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_76RA0dIs\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nLet $F(x,y) = \\langle x, y\\rangle/(x^2+y^2)$. Though this has divergence $0$ away from the origin, the flow integral around the unit circle, $\\oint_C (F\\cdot\\hat{N})ds$, is $2\\pi$, as Green's theorem in divergence form does not apply. Consider the integral around the square centered at the origin, with side lengths $2$. What is the flow integral around this closed curve?\n\n::: {.cell hold='true' execution_count=39}\n\n::: {.cell-output .cell-output-display execution_count=89}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='BgzVkdFn' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_BgzVkdFn\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_BgzVkdFn\"\n              id=\"radio_BgzVkdFn_1\" value=\"1\">\n      <span class=\"label-body\">\n        Also \\(2\\pi\\), as Green&#39;s theorem applies to the region formed by the square minus the circle and so the overall flow integral around the boundary is \\(0\\), so the two will be the same.\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_BgzVkdFn\"\n              id=\"radio_BgzVkdFn_2\" value=\"2\">\n      <span class=\"label-body\">\n        It is \\(-2\\pi\\), as Green&#39;s theorem applies to the region formed by the square minus the circle and so the overall flow integral around the boundary is \\(0\\), so the two will have opposite signs, but the same magnitude.\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='BgzVkdFn_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_BgzVkdFn\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('BgzVkdFn_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_BgzVkdFn\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_BgzVkdFn\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nUsing the divergence theorem, compute $\\iint F\\cdot\\hat{N} dS$ where $F(x,y,z) = \\langle x, x, y \\rangle$ and $V$ is the unit sphere.\n\n::: {.cell hold='true' execution_count=40}\n\n::: {.cell-output .cell-output-display execution_count=90}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='jHuRvh8J' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_jHuRvh8J\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_jHuRvh8J\"\n              id=\"radio_jHuRvh8J_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(4/3 \\pi\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_jHuRvh8J\"\n              id=\"radio_jHuRvh8J_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(4\\pi\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_jHuRvh8J\"\n              id=\"radio_jHuRvh8J_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(\\pi\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='jHuRvh8J_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_jHuRvh8J\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('jHuRvh8J_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_jHuRvh8J\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_jHuRvh8J\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nUsing the divergence theorem, compute $\\iint F\\cdot\\hat{N} dS$ where $F(x,y,z) = \\langle y, y,x \\rangle$ and $V$ is the unit cube $[0,1]\\times[0,1]\\times[0,1]$.\n\n::: {.cell hold='true' execution_count=41}\n\n::: {.cell-output .cell-output-display execution_count=91}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='qs96R2PS' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_qs96R2PS\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qs96R2PS\"\n              id=\"radio_qs96R2PS_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(1\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qs96R2PS\"\n              id=\"radio_qs96R2PS_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(2\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_qs96R2PS\"\n              id=\"radio_qs96R2PS_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(3\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='qs96R2PS_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_qs96R2PS\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('qs96R2PS_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_qs96R2PS\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_qs96R2PS\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nLet $R(x,y,z) = \\langle x, y, z\\rangle$ and $\\rho = \\|R\\|^2$. If $F = 2R/\\rho^2$ then $F$ is the gradient of a potential. Which one?\n\n::: {.cell hold='true' execution_count=42}\n\n::: {.cell-output .cell-output-display execution_count=92}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='Sb3xJ3QE' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_Sb3xJ3QE\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_Sb3xJ3QE\"\n              id=\"radio_Sb3xJ3QE_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(\\rho\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_Sb3xJ3QE\"\n              id=\"radio_Sb3xJ3QE_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(1/\\rho\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_Sb3xJ3QE\"\n              id=\"radio_Sb3xJ3QE_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(\\log(\\rho)\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='Sb3xJ3QE_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_Sb3xJ3QE\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 3;\n    var msgBox = document.getElementById('Sb3xJ3QE_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_Sb3xJ3QE\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_Sb3xJ3QE\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\nBased on this information, for $S$ a surface not including the origin with boundary $C$, a simple closed curve, what is $\\oint_C F\\cdot\\hat{T}ds$?\n\n::: {.cell hold='true' execution_count=43}\n\n::: {.cell-output .cell-output-display execution_count=93}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='PGPHlbxp' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_PGPHlbxp\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_PGPHlbxp\"\n              id=\"radio_PGPHlbxp_1\" value=\"1\">\n      <span class=\"label-body\">\n        It is \\(2\\pi\\), as this is the circumference of the unit circle\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_PGPHlbxp\"\n              id=\"radio_PGPHlbxp_2\" value=\"2\">\n      <span class=\"label-body\">\n        It is \\(0\\), as, by Stoke&#39;s theorem, it is equivalent to \\(\\iint_S (\\nabla\\times\\nabla{\\phi})dS = \\iint_S 0 dS = 0\\).\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='PGPHlbxp_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_PGPHlbxp\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 2;\n    var msgBox = document.getElementById('PGPHlbxp_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_PGPHlbxp\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_PGPHlbxp\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nConsider the circle, $C$ in $R^3$ parameterized by $\\langle \\cos(t), \\sin(t), 0\\rangle$. The upper half sphere and the unit disc in the $x-y$ plane are both surfaces with this boundary. Let $F(x,y,z) = \\langle -y, x, z\\rangle$. Compute $\\oint_C F\\cdot\\hat{T}ds$ using Stokes' theorem. The value is:\n\n::: {.cell hold='true' execution_count=44}\n\n::: {.cell-output .cell-output-display execution_count=94}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='5jW6hwA7' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_5jW6hwA7\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_5jW6hwA7\"\n              id=\"radio_5jW6hwA7_1\" value=\"1\">\n      <span class=\"label-body\">\n        \\(2\\pi\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_5jW6hwA7\"\n              id=\"radio_5jW6hwA7_2\" value=\"2\">\n      <span class=\"label-body\">\n        \\(2\\)\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_5jW6hwA7\"\n              id=\"radio_5jW6hwA7_3\" value=\"3\">\n      <span class=\"label-body\">\n        \\(0\\)\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='5jW6hwA7_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_5jW6hwA7\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('5jW6hwA7_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_5jW6hwA7\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_5jW6hwA7\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\nFrom [Illinois](https://faculty.math.illinois.edu/~franklan/Math241_165_ConservativeR3.pdf) comes this advice to check if a vector field $F:R^3 \\rightarrow R^3$ is conservative:\n\n\n  * If $\\nabla\\times{F}$ is non -zero the field is not conservative\n  * If $\\nabla\\times{F}$ is zero *and* the domain of $F$ is simply connected (e.g., all of $R^3$, then $F$ is conservative\n  * If $\\nabla\\times{F}$ is zero *but* the domain of $F$ is *not* simply connected then ...\n\n\nWhat should finish the last sentence?\n\n::: {.cell hold='true' execution_count=45}\n\n::: {.cell-output .cell-output-display execution_count=95}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='0CEL6XWT' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_0CEL6XWT\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0CEL6XWT\"\n              id=\"radio_0CEL6XWT_1\" value=\"1\">\n      <span class=\"label-body\">\n        the field <em>is</em> conservative\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0CEL6XWT\"\n              id=\"radio_0CEL6XWT_2\" value=\"2\">\n      <span class=\"label-body\">\n        the field is <em>not</em> conservative.\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_0CEL6XWT\"\n              id=\"radio_0CEL6XWT_3\" value=\"3\">\n      <span class=\"label-body\">\n        the field could be conservative or not. One must work harder to answer the question.\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='0CEL6XWT_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_0CEL6XWT\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 3;\n    var msgBox = document.getElementById('0CEL6XWT_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_0CEL6XWT\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_0CEL6XWT\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\n[Knill]() provides the following chart showing what happens under the three main operations on vector-valued functions:\n\n\n\n```{verbatim}\n                     1\n              1 -> grad -> 1\n       1 -> grad -> 2 -> curl -> 1\n1 -> grad -> 3 -> curl -> 3 -> div -> 1\n```\n\n\nIn the first row, the gradient is just the regular derivative and takes a function $f:R^1 \\rightarrow R^1$ into another such function, $f':R \\rightarrow R^1$.\n\n\nIn the second row, the gradient is an operation that takes a function $f:R^2 \\rightarrow R$ into one $\\nabla{f}:R^2 \\rightarrow R^2$, whereas the curl takes $F:R^2\\rightarrow R^2$ into $\\nabla\\times{F}:R^2 \\rightarrow R^1$.\n\n\nIn the third row, the gradient is an operation that takes a function $f:R^3 \\rightarrow R$ into one $\\nabla{f}:R^3 \\rightarrow R^3$, whereas the curl takes $F:R^3\\rightarrow R^3$ into $\\nabla\\times{F}:R^3 \\rightarrow R^3$, and the divergence takes $F:R^3 \\rightarrow R^3$ into $\\nabla\\cdot{F}:R^3 \\rightarrow R$.\n\n\nThe diagram emphasizes a few different things:\n\n\n  * The number of integral theorems is implied here. The ones for the gradient are the fundamental theorem of line integrals, namely $\\int_C \\nabla{f}\\cdot d\\vec{r}=\\int_{\\partial{C}} f$, a short hand notation for $f$ evaluated at the end points.\n\n\nThe one for the curl in $n=2$ is Green's theorem: $\\iint_S \\nabla\\times{F}dA = \\oint_{\\partial{S}} F\\cdot d\\vec{r}$.\n\n\nThe one for the curl in $n=3$ is Stoke's theorem: $\\iint S \\nabla\\times{F}dA = \\oint_{\\partial{S}} F\\cdot d\\vec{r}$. Finally, the divergence for $n=3$ is the divergence theorem $\\iint_V \\nabla\\cdot{F} dV = \\iint_{\\partial{V}} F dS$.\n\n\n  * Working left to right along a row of the diagram, applying two steps of these operations yields:\n\n::: {.cell hold='true' execution_count=46}\n\n::: {.cell-output .cell-output-display execution_count=96}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='IeEbO4Hc' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_IeEbO4Hc\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_IeEbO4Hc\"\n              id=\"radio_IeEbO4Hc_1\" value=\"1\">\n      <span class=\"label-body\">\n        Zero, by the vanishing properties of these operations\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_IeEbO4Hc\"\n              id=\"radio_IeEbO4Hc_2\" value=\"2\">\n      <span class=\"label-body\">\n        The maximum number in a row\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_IeEbO4Hc\"\n              id=\"radio_IeEbO4Hc_3\" value=\"3\">\n      <span class=\"label-body\">\n        The row number plus 1\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='IeEbO4Hc_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_IeEbO4Hc\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('IeEbO4Hc_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_IeEbO4Hc\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_IeEbO4Hc\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n###### Question\n\n\n[Katz](https://www.jstor.org/stable/2690275) provides details on the history of Green, Gauss (divergence), and Stokes. The first paragraph says that each theorem was not original to the attributed name. Part of the reason being the origins dating back to the 17th century, their usage by Lagrange in Laplace in the 18th century, and their formalization in the 19th century. Other reasons are the applications were different \"Gauss was interested in the theory of magnetic attraction, Ostrogradsky in the theory of heat, Green in electricity and magnetism, Poisson in elastic bodies, and Sarrus in floating bodies.\" Finally, in nearly all the cases the theorems were thought of as tools toward some physical end.\n\n\nIn 1846, Cauchy proved\n\n\n\n$$\n\\int\\left(p\\frac{dx}{ds} + q \\frac{dy}{ds}\\right)ds =\n\\pm\\iint\\left(\\frac{\\partial{p}}{\\partial{y}} - \\frac{\\partial{q}}{\\partial{x}}\\right)dx dy.\n$$\n\n\nThis is a form of:\n\n::: {.cell hold='true' execution_count=47}\n\n::: {.cell-output .cell-output-display execution_count=97}\n```{=html}\n<form class=\"mx-2 my-3\" name='WeaveQuestion' data-id='LAV8XiVW' data-controltype=''>\n  <div class='form-group '>\n    <div class='controls'>\n      <div class=\"form-floating input-group\" id=\"controls_LAV8XiVW\">\n        <div style=\"padding-top: 5px\">\n    <div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_LAV8XiVW\"\n              id=\"radio_LAV8XiVW_1\" value=\"1\">\n      <span class=\"label-body\">\n        Green&#39;s theorem\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_LAV8XiVW\"\n              id=\"radio_LAV8XiVW_2\" value=\"2\">\n      <span class=\"label-body\">\n        The divergence &#40;Gauss&#39;&#41; theorem\n      </span>\n    </input>\n  </label>\n</div>\n<div class=\"form-check\">\n  <label>\n    <input class=\"form-check-input\" type=\"radio\" name=\"radio_LAV8XiVW\"\n              id=\"radio_LAV8XiVW_3\" value=\"3\">\n      <span class=\"label-body\">\n        Stokes&#39; theorem\n      </span>\n    </input>\n  </label>\n</div>\n\n    \n        </div>\n      </div>\n      <div id='LAV8XiVW_message' style=\"padding-bottom: 15px\"></div>\n    </div>\n  </div>\n</form>\n\n<script text='text/javascript'>\ndocument.querySelectorAll('input[name=\"radio_LAV8XiVW\"]').forEach(function(rb) {\nrb.addEventListener(\"change\", function() {\n    var correct = rb.value == 1;\n    var msgBox = document.getElementById('LAV8XiVW_message');\n      if(correct) {\n    msgBox.innerHTML = \"<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>\";\n    var explanation = document.getElementById(\"explanation_LAV8XiVW\")\n    if (explanation != null) {\n       explanation.style.display = \"none\";\n    }\n  } else {\n    msgBox.innerHTML = \"<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>\";\n    var explanation = document.getElementById(\"explanation_LAV8XiVW\")\n    if (explanation != null) {\n       explanation.style.display = \"block\";\n    }\n  }\n\n})});\n\n</script>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "stokes_theorem_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}